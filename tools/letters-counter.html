<!-- ツール共通テンプレート -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <script src="/js/prevent-duplicate-includes.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="まえゆきツールの文字数カウント - 日本語の文字数を簡単にカウントできる無料ツールです。空白や改行を除外した文字数も確認できます。">
  <title>文字数カウント | まえゆきツール</title>

  <!-- リソースの先読み -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- 共通CSSとフォント -->
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">

  <!-- ツール共通CSS -->
  <link rel="stylesheet" href="/css/tools-common.css">

  <!-- フッターのスタイル -->
  <link rel="stylesheet" href="/css/footer-hover.css">

  <!-- 個別ツールのスタイル -->
  <style>
    :root{--primary:#0066ff;--secondary:#ff3a3a;--accent:#ff9500;--dark-blue:#0d3283;--light-bg:#f8f9fa;--text-dark:#333;--text-mid:#555;--header-h:60px}*,::after,::before{box-sizing:border-box;margin:0;padding:0}body{font:16px/1.6 'Noto Sans JP',sans-serif;color:var(--text-dark);background:#fff;overflow-x:hidden;display:flex;flex-direction:column;min-height:100vh;-webkit-text-size-adjust:100%}img{max-width:100%;height:auto;vertical-align:middle;border:0}a{text-decoration:none;color:inherit}ul{list-style:none}main{flex:1 0 auto}.site-header{position:fixed;top:0;left:0;width:100%;z-index:1000;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.1);height:var(--header-h);display:flex;align-items:center}.header-container{max-width:1200px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center;width:100%}.site-logo-text{font-weight:700;font-size:20px}.site-logo-text a{color:var(--dark-blue)}.hamburger-button{display:block;width:30px;height:30px;position:relative;z-index:1001;border:0;background:0;cursor:pointer}.hamburger-button span{display:block;position:absolute;width:100%;height:2px;background:var(--text-dark);left:0}.hamburger-button span:nth-child(1){top:8px}.hamburger-button span:nth-child(2){top:14px}.hamburger-button span:nth-child(3){bottom:8px}

     /* 文字数カウントツールスタイル */
     .tool-section {
         padding: 80px 0 40px;
         margin-top: var(--header-h);
         background: #f9f3e9;
     }
     .tool-container {
         max-width: 840px;
         margin: 0 auto;
         padding: 0 20px;
     }
     .tool-title {
         font-size: 28px;
         text-align: center;
         margin-bottom: 2rem;
         color: var(--text-dark);
     }

     /* 文字入力エリア */
     .input-area {
         margin-top: 20px;
     }     .counter-bar {
         text-align: center;
         background: var(--primary);
         padding: 10px;
         color: #fff;
         border-radius: 8px 8px 0 0;
         font-size: 18px;
         display: flex;
         align-items: center;
         justify-content: center;
         border: 2px solid var(--primary);
         border-bottom: none;
     }
     .counter-bar strong {
         color: #ffff00;
         padding: 0 5px;
         font-size: 24px;
     }
     .counter-textarea {
         width: 100%;
         min-height: 250px;
         padding: 15px;
         border: 2px solid var(--primary);
         border-radius: 0 0 8px 8px;
         font-size: 16px;
         line-height: 1.6;
         resize: vertical;
         font-family: inherit;
     }
     .counter-textarea:focus {
         outline: none;
     }

     /* 結果エリア */
     .result-area {
         margin-top: 30px;
     }
     .result-title {
         font-size: 20px;
         font-weight: 700;
         margin-bottom: 15px;
         padding-bottom: 5px;
         border-bottom: 2px solid #eee;
     }
     .result-list {
         list-style: none;
         padding: 0;
     }
     .result-item {
         display: flex;
         align-items: center;
         margin-bottom: 15px;
         font-size: 16px;
     }
     .result-item:before {
         content: "•";
         color: var(--primary);
         margin-right: 10px;
         font-size: 20px;
     }
     .result-value {
         color: var(--primary);
         font-weight: 700;
         margin-left: 5px;
     }

     /* 設定エリア */
     .settings-area {
         margin-top: 40px;
     }
     .settings-title {
         font-size: 20px;
         font-weight: 700;
         margin-bottom: 15px;
         padding-bottom: 5px;
         border-bottom: 2px solid #eee;
     }
     .setting-option {
         display: flex;
         align-items: center;
         margin-bottom: 10px;
     }
     .setting-option label {
         margin-left: 10px;
         cursor: pointer;
     }

     /* トグルスイッチ */
     .toggle-switch {
         position: relative;
         display: inline-block;
         width: 50px;
         height: 24px;
     }
     .toggle-switch input {
         opacity: 0;
         width: 0;
         height: 0;
     }
     .toggle-slider {
         position: absolute;
         cursor: pointer;
         top: 0;
         left: 0;
         right: 0;
         bottom: 0;
         background-color: #ccc;
         transition: .4s;
         border-radius: 24px;
     }
     .toggle-slider:before {
         position: absolute;
         content: "";
         height: 18px;
         width: 18px;
         left: 3px;
         bottom: 3px;
         background-color: white;
         transition: .4s;
         border-radius: 50%;
     }
     input:checked + .toggle-slider {
         background-color: var(--primary);
     }
     input:checked + .toggle-slider:before {
         transform: translateX(26px);
     }

     /* 使い方ボックス */
     .usage-box {
         background: #fff;
         border-radius: 10px;
         padding: 25px;
         margin-top: 40px;
         box-shadow: 0 4px 10px rgba(0,0,0,0.05);
     }
     .usage-title {
         font-size: 18px;
         display: flex;
         align-items: center;
         margin-bottom: 15px;
         color: var(--text-dark);
     }
     .usage-title-icon {
         margin-right: 8px;
         color: var(--primary);
     }
     .usage-list {
         padding-left: 20px;
     }
     .usage-item {
         margin-bottom: 8px;
         position: relative;
         line-height: 1.5;
     }
     .usage-item::before {
         content: "•";
         position: absolute;
         left: -15px;
         color: var(--primary);
     }
     .usage-link {
         color: var(--primary);
     }
     .usage-link:hover {
         text-decoration: underline;
     }

     /* シェアセクション */
     .share-section {
         margin: 40px 0;
         text-align: center;
     }
     .share-title {
         display: inline-block;
         position: relative;
         padding: 0 30px;
         margin-bottom: 15px;
         font-size: 16px;
         font-weight: 700;
     }
     .share-title:before, .share-title:after {
         content: "";
         position: absolute;
         top: 50%;
         width: 20px;
         height: 2px;
         background: var(--text-dark);
     }
     .share-title:before {
         left: 0;
         transform: rotate(50deg);
     }
     .share-title:after {
         right: 0;
         transform: rotate(-50deg);
     }
     .share-buttons {
         display: flex;
         justify-content: center;
         gap: 15px;
     }
     .share-button {
         display: flex;
         align-items: center;
         justify-content: center;
         width: 40px;
         height: 40px;
         border-radius: 50%;
         transition: transform 0.2s;
     }
     .share-button:hover {
         transform: scale(1.1);
     }
     .share-twitter { background: #1DA1F2; }
     .share-facebook { background: #1877F2; }
     .share-line { background: #06C755; }

     /* 他のツールリンク */
     .other-tools {
         margin-top: 40px;
     }
     .other-tools-title {
         font-size: 18px;
         margin-bottom: 15px;
         text-align: center;
     }
     .tools-list {
         display: flex;
         flex-wrap: wrap;
         gap: 10px;
         justify-content: center;
     }
     .tool-link {
         display: inline-block;
         padding: 8px 16px;
         background: white;
         border-radius: 20px;
         border: 1px solid #e0e0e0;
         font-size: 14px;
         transition: all 0.2s;
     }
     .tool-link:hover {
         background: var(--primary);
         color: white;
         transform: translateY(-2px);
         border-color: var(--primary);
     }

     /* レスポンシブ対応 */
     @media (max-width: 768px) {
         .tool-section {
             padding: 70px 0 30px;
         }
         .counter-bar {
             font-size: 16px;
         }
         .counter-bar strong {
             font-size: 20px;
         }
     }     /* ボタンスタイル */
     .btn-action, .btn-sample, .btn-clear {
         display: inline-flex;
         align-items: center;
         padding: 8px 15px;
         background: var(--primary);
         color: white;
         border: none;
         border-radius: 4px;
         cursor: pointer;
         font-size: 14px;
         transition: background 0.3s;
     }
     .btn-action svg, .btn-sample svg, .btn-clear svg {
         margin-right: 6px;
     }
     .btn-action:hover, .btn-sample:hover {
         background: #0052cc;
     }
     .btn-clear {
         background: #e74c3c;
         margin-left: 10px;
     }
     .btn-clear:hover {
         background: #c0392b;
     }

     /* 結果アクション領域 */
     .result-actions {
         display: flex;
         align-items: center;
         margin-top: 20px;
     }
     .copy-message {
         margin-left: 15px;
         color: #28a745;
         font-size: 14px;
         opacity: 0;
         transition: opacity 0.3s;
     }
     .copy-message.visible {
         opacity: 1;
     }
       /* テキストエリアコントロール */
     .textarea-controls {
         display: flex;
         justify-content: flex-end;
         padding: 10px;
         background: #f8f8f8;
         border-left: 2px solid var(--primary);
         border-right: 2px solid var(--primary);
     }         @media (max-width: 480px) {
         .input-area {
             margin-left: -10px;
             margin-right: -10px;
         }
         .textarea-controls {
             flex-direction: column;
             align-items: flex-start;
         }
         .btn-sample, .btn-clear {
             width: calc(100% - 20px);
             justify-content: center;
             margin: 0 10px 10px 10px;
         }
         .result-actions {
             flex-direction: column;
             align-items: flex-start;
         }
         .copy-message {
             margin: 10px 0 0 0;
         }
     }
  </style>
  <!-- JavaScriptの遅延ロード -->
  <script src="/js/script.js" defer></script>

  <!-- フッターのスタイル -->
  <link rel="stylesheet" href="/css/footer-hover.css">

  <link rel="icon" href="/images/favicon.ico">
  <meta property="og:title" content="文字数カウント | まえゆきツール">
  <meta property="og:description" content="まえゆきツールの文字数カウント - 日本語の文字数を簡単にカウントできる無料ツールです。空白や改行を除外した文字数も確認できます。">
  <meta property="og:image" content="/images/tool-ogp.webp">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/images/ogp_image_tools.webp">
  <meta property="og:type" content="website">
    <!-- フッターのスタイル調整 -->
  <style>
    /* ツールページでのフッター調整 */
    .site-footer {
      width: 100%;
      max-width: none;
      margin: 0;
      padding: 40px 20px;
      background-color: #0d3283;
      color: white;
    }

    .site-footer .footer-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0;
      display: flex;
      flex-wrap: wrap;
      align-items: flex-start;
      gap: 32px;
    }

    .site-footer .footer-widgets {
      display: flex;
      flex: 1;
      flex-wrap: wrap;
      gap: 32px;
    }

    .site-footer .widget-area {
      min-width: 160px;
    }

    .site-footer .widget-area h4 {
      color: white;
      margin-bottom: 15px;
      font-size: 16px;
      font-weight: bold;
    }

    .site-footer .widget-area ul {
      padding: 0;
      list-style: none;
    }

    .site-footer .widget-area ul li {
      position: relative;
      margin-bottom: 10px;
    }

    .site-footer .widget-area ul li a {
      position: relative;
      display: inline-block;
      color: rgba(255, 255, 255, 0.8);
      font-size: 14px;
      text-decoration: none;
      transition: all 0.15s ease-out;
    }

    .site-footer .widget-area ul li a:hover {
      color: white;
    }

    @media (max-width: 768px) {
      .site-footer .footer-container {
        flex-direction: column;
        gap: 20px;
      }

      .site-footer .footer-widgets {
        flex-direction: column;
        gap: 20px;
      }
    }
  </style>
  <!-- インクルード処理 -->

</head>
<body>
  <!-- ヘッダー -->
  <div id="header-placeholder"></div>

  <!-- メインコンテンツ -->
  <main>
    <!-- ツールのコンテナ -->    
    <div class="app-wrapper">
      <div class="tool-container">
        <div class="tool-header">
          <h1>文字数カウント</h1>
          <p class="tool-description">日本語の文章の文字数を素早く正確にカウントできるシンプルなツールです。空白や改行を除外した文字数、行数、UTF-8バイト数も表示します。</p>
        </div>
        <!-- ツール固有のコンテンツ -->
        <div class="tool-content">
          <!-- ツールセクション -->
          <section class="tool-section">
            <div class="tool-container">
              <!-- テキスト入力エリア -->
              <div class="input-area">
                <div class="counter-bar">
                  ただ今の文字数は <strong id="currentCount">0</strong> 字
                </div>
                <div class="textarea-controls">
                  <button type="button" id="sampleTextButton" class="btn-sample">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                      <polyline points="14 2 14 8 20 8"></polyline>
                      <line x1="16" y1="13" x2="8" y2="13"></line>
                      <line x1="16" y1="17" x2="8" y2="17"></line>
                      <line x1="10" y1="9" x2="8" y2="9"></line>
                    </svg>
                    サンプルテキストを挿入
                  </button>
                  <button type="button" id="clearTextButton" class="btn-clear">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="3 6 5 6 21 6"></polyline>
                      <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                    クリア
                  </button>
                </div>
                <textarea id="textInput" class="counter-textarea" placeholder="カウントする文章を入力" autofocus=""></textarea>
              </div>

              <!-- 結果表示エリア -->
              <div class="result-area">
                <h2 class="result-title">現在の文字数</h2>
                <ul class="result-list">
                  <li class="result-item">
                    空白と改行をふくむ文字数... <span class="result-value" id="totalCount">0</span>
                  </li>
                  <li class="result-item">
                    空白と改行をのぞいた文字数... <span class="result-value" id="noSpaceCount">0</span>
                  </li>
                  <li class="result-item">
                    行数... <span class="result-value" id="lineCount">1</span>
                  </li>
                  <li class="result-item">
                    バイト数 (UTF-8)... <span class="result-value" id="byteCount">0</span>
                  </li>
                </ul>
                <div class="result-actions">
                  <button type="button" id="copyResultButton" class="btn-action">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                    結果をコピー
                  </button>
                  <div id="copyMessage" class="copy-message">コピーしました！</div>
                </div>
              </div>

              <!-- 設定エリア -->
              <div class="settings-area">
                <h2 class="settings-title">カウントの仕方の設定</h2>
                <div class="setting-option">
                  <label class="toggle-switch">
                    <input type="checkbox" id="htmlToggle">
                    <span class="toggle-slider"></span>
                  </label>
                  <label for="htmlToggle">HTMLタグをカウントしない</label>
                </div>
                <div class="setting-option">
                  <label class="toggle-switch">
                    <input type="checkbox" id="emojiToggle">
                    <span class="toggle-slider"></span>
                  </label>
                  <label for="emojiToggle">絵文字を1文字としてカウント</label>
                </div>
              </div>

              <!-- 使い方ボックス -->
              <div class="usage-box">
                <h3 class="usage-title">
                  <span class="usage-title-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <circle cx="12" cy="12" r="10"></circle>
                      <line x1="12" y1="16" x2="12" y2="12"></line>
                      <line x1="12" y1="8" x2="12.01" y2="8"></line>
                    </svg>
                  </span>
                  文字数カウンターの使い方
                </h3>

                <ul class="usage-list">
                  <li class="usage-item">シンプルな文字数カウンターです。文字数制限があるときや、書いた文章の文字数を知りたいときにご利用ください。</li>
                  <li class="usage-item">絵文字や異体字にも対応しています。</li>
                  <li class="usage-item">文章を入力すると、自動で文字数がカウントされます。</li>
                  <li class="usage-item">行数は改行ごとにカウントされます。</li>
                  <li class="usage-item">
                    HTMLの文字数のカウントもできます。
                    タグをカウントしたくないときは「HTMLタグをカウントしない」をONにしてください。
                  </li>
                </ul>
              </div>            
              <!-- 他のツールリンク -->
              <div class="other-tools">
                <h2 class="other-tools-title">その他のまえゆきツール</h2>                <div class="tools-list">
                  <a href="image-resize.html" class="tool-link">画像サイズ変更</a>
                  <a href="png-jpeg-to-webp.html" class="tool-link">WebP変換ツール</a>
                  <a href="png-to-jpeg.html" class="tool-link">PNG→JPEG変換</a>
                  <a href="meme-generator.html" class="tool-link">ミームジェネレーター</a>
                  <a href="color-palette.html" class="tool-link">カラーパレット</a>
                  <a href="wareki-seireki.html" class="tool-link">年齢・和暦計算ツール</a>
                  <a href="calc.html" class="tool-link">世界の単位換算ツール</a>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </main>

  <!-- フッターを共通コンポーネントとして読み込み -->
  <div id="footer-placeholder"></div>
  <script>
    if (!window.isScriptLoaded || !window.isScriptLoaded('/js/include.js')) {
        document.write('<script src="/js/include.js"><\/script>');
    } else {
        console.log('include.jsのロードをスキップしました');
    }
  </script>

  <!-- SVGアイコン -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="icon-pdf" viewBox="0 0 24 24">
      <path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"/>
    </symbol>
  </svg>

  <!-- 共通JavaScriptと文字数カウント用JavaScript -->
  <script>
     document.addEventListener('DOMContentLoaded', function() {
         // 要素の参照
         const textInput = document.getElementById('textInput');
         const currentCount = document.getElementById('currentCount');
         const totalCount = document.getElementById('totalCount');
         const noSpaceCount = document.getElementById('noSpaceCount');
         const lineCount = document.getElementById('lineCount');
         const byteCount = document.getElementById('byteCount');
         const htmlToggle = document.getElementById('htmlToggle');
         const emojiToggle = document.getElementById('emojiToggle');

         // テキスト入力イベント
         textInput.addEventListener('input', countText);

         // HTMLタグトグル
         htmlToggle.addEventListener('change', countText);

         // 絵文字トグル
         emojiToggle.addEventListener('change', countText);

         // 文字数カウント関数
         function countText() {
             // テキストを取得
             let text = textInput.value;

             // HTMLタグを除外する場合
             if (htmlToggle.checked) {
                 text = text.replace(/<[^>]*>/g, '');
             }

             // 絵文字を1文字としてカウント
             let totalChars = text.length;

             // 絵文字を特殊処理する場合
             if (emojiToggle.checked) {
                 // サロゲートペア（絵文字など）を1文字としてカウント
                 totalChars = [...text].length;
             }

             // 空白や改行を除外した文字数
             const noSpaceChars = text.replace(/\s+/g, '').length;

             // 行数（改行ごとにカウント）
             const lines = text === '' ? 1 : text.split('\n').length;

             // UTF-8バイト数
             const bytes = new TextEncoder().encode(text).length;
               // 結果を更新
             currentCount.textContent = totalChars;
             totalCount.textContent = totalChars;
             noSpaceCount.textContent = noSpaceChars;
             lineCount.textContent = lines;
             byteCount.textContent = bytes;
         }

         // サンプルテキストボタン
         const sampleTextButton = document.getElementById('sampleTextButton');
         if (sampleTextButton) {
             sampleTextButton.addEventListener('click', function() {
                 const sampleText = `オートウェビナー大学へようこそ！

このテキストは文字数カウントツールのサンプルです。
様々な長さの文章を入力して、文字数をカウントすることができます。

・空白を含めた文字数のカウント
・空白を除いた文字数のカウント
・行数のカウント
・UTF-8バイト数のカウント

HTML対応：<div>タグのカウント</div> もできます。
絵文字対応：🎉✨🚀 絵文字も正確にカウントします。`;

                 textInput.value = sampleText;
                 countText();
                 textInput.focus();
             });
         }

         // クリアボタン
         const clearTextButton = document.getElementById('clearTextButton');
         if (clearTextButton) {
             clearTextButton.addEventListener('click', function() {
                 textInput.value = '';
                 countText();
                 textInput.focus();
             });
         }

         // 結果コピーボタン
         const copyResultButton = document.getElementById('copyResultButton');
         const copyMessage = document.getElementById('copyMessage');
         if (copyResultButton) {
             copyResultButton.addEventListener('click', function() {
                 // 結果テキストを作成
                 const resultText = `【文字数カウント結果】
空白と改行をふくむ文字数: ${totalCount.textContent}
空白と改行をのぞいた文字数: ${noSpaceCount.textContent}
行数: ${lineCount.textContent}
バイト数 (UTF-8): ${byteCount.textContent}`;

                 // クリップボードにコピー
                 navigator.clipboard.writeText(resultText).then(function() {
                     // コピー成功
                     copyMessage.classList.add('visible');
                     setTimeout(function() {
                         copyMessage.classList.remove('visible');
                     }, 2000);
                 });
             });
         }

         // 初期カウント
         countText();
     });
  </script>
</body>
</html>

